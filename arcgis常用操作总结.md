### ArcGIS常用操作总结

---

- [裁剪](#裁剪)
- [面图层中各个polygon的面积计算](#面图层中各个polygon的面积计算)
- [面图层整体面积统计](#面图层整体面积统计)
- [面图层轮廓线提取](#面图层轮廓线提取)
- [坐标转换](#坐标转换)
- [ArcGIS坐标系统](#arcgis坐标系统)
- [](#)

---

##### I. 裁剪

1. 先获取裁剪边界
   - 若从已有数据中提取边界，先选中边界 -->  边界所在图层右键 --> data --> export data
   - 若导入边界，则直接导入shp文件
2. 裁剪（批量裁剪）
3. - 矢量裁剪矢量
     - ArcToolbox --> Analysis Tools --> Extract --> clip菜单上右键 -->  Batch
   - 矢量裁剪栅格
     - （1）ArcToolbox --> Spatial Analyst Tools --> Extraction --> Extract by Mask(按*按腌膜提取*)
       - 注意要点
         - 菜单栏自定义 -->扩展模块 --> Spatial Analyst 需要提前开启，否则会报ERROR
         - 环境 ——> 处理范围 ——> 捕捉栅格——> 选中原栅格，为了后面处理符号系统
         - 输出路径尽量不要有中文
     - （2）ArcToolbox --> Data Management Tools --> Raster --> Raster Processing  --> Clip
       - 注意要点
         - 在裁剪假面，需要勾选“使用输入要素裁剪几何”
         - 环境——>处理范围——>捕捉栅格——>选中原栅格，为了后面处理符号系统  
         - 输出路径尽量不要有中文
     - （3）裁剪问题
       - 裁剪之后的栅格颜色比原栅格颜色深，而且值从0-246变为了27-255，这是由于原栅格与结果栅格的拉伸方式和统计值不同造成的
       - 解决方案：
         - 原栅格——>符号系统——>拉伸——>统计数据——>从自定义设置——>另存为XML
         - 结果栅格——>符号系统——>拉伸——>类型——>标准差——>统计数据——>自定义设置——>加载XML

---

#### II. 面图层中各个polygon的面积计算

1. 在ArcGIS中加载面图层
2. 右键，然后点击Open Attribute Table，进而打开所加载面图层的属性表
3. 点击左上角'表选项' --> '添加字段' (double)
4. 点击所建字段表头选中该列 --> 右键 --> Calculate Geometry
5. 注：只有投影坐标系才能进行面积计算，若为不是，则转换为相应坐标系再进行面积计算 

---

#### III. 面图层整体面积统计

面图层整体面积统计有两种方式进行计算：一是先求出图层中各polygon的面积，然后进行求和运算；二是将图层所有polygon进行合并，然后进行面积计算

1. 面积求和
   - 先有II中方式分别求出各polygon面积
   - 将所操作图层的属性表导出为text文档
     - 点击左上方’表选项‘ --> Export
     - 在Export Data对话框中，点击路径选择按钮
     - 在saving Data对话框中，save as type中选择text file
     - 导出后，ArcGIS提示是否加载，选择yes，否则导出文件有缺失
   - 使用Excel打开导出文件
     - 导出的数据包括xml与txt两个文件
     - 用Excel打开导出的txt文档
     - 设置打开按照固定的符号（Tab键，逗号）进行分隔后，打开就是标准的格式了，并且另存为Excel格式
   - 使用Excel进行面积求和
2. polygon合并求面积
   - 菜单栏自定义 -->扩展模块 --> Editor
   - 点击Editor下拉菜单 --> Start Editing 
     - merge --> 合并两个polygon
     - union --> 合并图层中的所有选中的polygon
   - union后会在该图层中增加一个合并的polygon，通常在属性表中的最后一行
   - 要对union得到的polygon进行面积计算，要先将其所在图层加入到某个Gdb数据库中，然后按照II的方式进行面积计算

---

#### IV. 面图层轮廓线提取

面图层轮廓线提取存在两种方式：一是将面图层中的所有polygon合并，然后导出轮廓；二是使用feature to line;

1. polygon合并导出轮廓线
   - 按照III中第二种方式将polygon合并
   - 选中合并后的polygon
   - 右键其所在面图层 --> Data --> Export Data
2. feature to line 
   - ArcToolbox --> Data Management Tools --> features --> feature to line

---

#### v. 坐标转换

主要指地理坐标系转投影坐标系

- ArcToolbox --> Data Management Tools -->  Projections and Transformations --> Feature --> Project
  - 在Project窗口中，选择Output Coordinate System，然后，点击“Select” 
  - Projected Coordinate System --> World --> WGS 1984 Web Mercator.prj --> Add

---

#### VI. ArcGIS坐标系统

1. 6度分带从本初子午线开始，按经差6度为一个投影带自西向东划分，全球共分60个投影带，带号分别为1－60；
2. 3度投影带是从东经1度30秒经线开始，按经差3度为一个投影带自西向东划分，全球共分120个投影带
3. 地球分东西半球，所以按6度分带，一个半球有30个投影带；按3度分带，一个半球有60个投影带。我国经度范围西起73°，东至135°，横跨11个六度带，13带到23带，3度带数量多一倍，从 24带到45带
4. 知道东半球上各个投影带中央经线的经度，也就知道西半球上的了，反之亦然。知道各个投影带中央经线的经度（可以百度三度带、六度带对照表），知道数据的经纬度范围，我们就知道这个数据的投影**带号**，知道它属于哪一个投影带。要注意的是，同一个带的投影坐标系分**加带号**和**不加带号**两种

```
假设某个个矢量数据（范围在中国）已知坐标系是CGCS2000，已知一连串的坐标，此处X、Y已颠倒过：（41569821,4590855），（x,y）……单位为米。

（1）由于坐标单位为米（平面坐标），这个数据的坐标系肯定是一个投影坐标系。下一步判断用的是三度分带还是六度分带，以及属于的投影带。

（2）根据横坐标（有8位数字，前两位一定是带号）可以知道这个数据位于41带上，由于我国横跨的三度带为24到45带，横跨的六度带为13到23带，因此可以判断这个数据的坐标系是CGCS2000三度分带下的41带投影。如果坐标没有带号，则根据该数据的经纬度范围来确定是哪个投影带。

（3）在ArcGIS中使用定义投影工具，为该数据定义正确的投影坐标系。
```

5. 投影坐标系名称的含义（如CGCS2000坐标系中）
   - CGCS2000_3_degree_GK_CM123E———三度分带下的41带投影（横坐标没有带号）
   - CGCS2000_3_degree_GK_Zone_41———三度分带下的41带投影（横坐标有带号）
   - CGCS2000_GK_CM_123E———六度分带下的21带投影（横坐标没有带号）
   - CGCS2000_GK_Zone_21———六度分带下的21带投影（横坐标有带号）
6. web地图开发，两种坐标系至关重要4326 GCS_WGS_1984 和102100WGS_1984_web_mercator_auxiliary_sphere
   - 4326 GCS_WGS_1984 是WGS1984，属于地理坐标系
   - 102100 WGS_1984_web_mercator_auxiliary_sphere则是目前在线地图采用的通用坐标系，属于投影坐标系。

---

